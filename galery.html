<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Gallery - Ramdan</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background: url("./assets/wallpaper.gif") no-repeat center center fixed;
      background-size: cover;
    }
    .glass {
      background: rgba(255, 255, 255, 0.15);
      backdrop-filter: blur(10px);
      border-radius: 12px;
      border: 1px solid rgba(255, 255, 255, 0.2);
    }
    .overlay-hidden {
      display: none;
    }
    .overlay-active {
      display: flex;
    }
  </style>
</head>
<body class="text-white">

  <!-- Navbar -->
  <nav class="glass p-4 flex justify-between items-center m-4">
    <a href="/index.html" class="font-bold">Home</a>
    <a href="/galery.html" class="font-bold">Gallery</a>
  </nav>

  <!-- Gallery Grid -->
  <div class="grid grid-cols-3 gap-4 p-4">
    <!-- Foto 1 -->
    <div class="glass overflow-hidden cursor-pointer" onclick="openPreview('./assets/gallery/foto1.jpg')">
      <img src="./assets/gallery/foto1.jpg" alt="Ramdan Olii" class="w-full h-40 object-cover object-center">
      <div class="p-3 text-sm text-center">Developer- Ramdan Olii</div>
    </div>

    <!-- Foto 2 -->
    <div class="glass overflow-hidden cursor-pointer" onclick="openPreview('./assets/gallery/foto2.jpg')">
      <img src="./assets/gallery/foto2.jpg" alt="Israwaty Husain" class="w-full h-40 object-cover object-center">
      <div class="p-3 text-sm text-center">Mental Support - Israwaty Husain</div>
    </div>

    <!-- Foto 3 -->
    <div class="glass overflow-hidden cursor-pointer" onclick="openPreview('./assets/gallery/foto3.jpg')">
      <img src="./assets/gallery/foto3.jpg" alt="Shiina Mahiru" class="w-full h-40 object-cover object-center">
      <div class="p-3 text-sm text-center">Shiina Mahiru</div>
    </div>

    <!-- Foto 4 -->
    <div class="glass overflow-hidden cursor-pointer" onclick="openPreview('./assets/gallery/foto4.png')">
      <img src="./assets/gallery/foto4.png" alt="Foto 4" class="w-full h-40 object-cover object-center">
      <div class="p-3 text-sm text-center">My Ambitious Project</div>
    </div>

    <!-- Foto 5 (VIDEO) -->
    <div class="glass overflow-hidden cursor-pointer" onclick="openPreview('https://txtcdwwrpusmmbvoimkq.supabase.co/storage/v1/object/public/videos/1756496507830-video.mp4','video')">
      <img src="./assets/gallery/videoframe.png" alt="Vlog" class="w-full h-40 object-cover object-center">
      <div class="p-3 text-sm text-center">Ultra Short Vlog With Her</div>
    </div>

    <!-- Foto 6 -->
    <div class="glass overflow-hidden cursor-pointer" onclick="openPreview('./assets/gallery/foto6.jpg')">
      <img src="./assets/gallery/foto6.jpg" alt="Foto 6" class="w-full h-40 object-cover object-center">
      <div class="p-3 text-sm text-center">Foto 6</div>
    </div>

    <!-- Foto 7 -->
    <div class="glass overflow-hidden cursor-pointer" onclick="openPreview('./assets/gallery/foto7.jpg')">
      <img src="./assets/gallery/foto7.jpg" alt="Foto 7" class="w-full h-40 object-cover object-center">
      <div class="p-3 text-sm text-center">Foto 7</div>
    </div>

    <!-- Foto 8 -->
    <div class="glass overflow-hidden cursor-pointer" onclick="openPreview('./assets/gallery/foto8.jpg')">
      <img src="./assets/gallery/foto8.jpg" alt="Foto 8" class="w-full h-40 object-cover object-center">
      <div class="p-3 text-sm text-center">Foto 8</div>
    </div>

    <!-- Foto 9 -->
    <div class="glass overflow-hidden cursor-pointer" onclick="openPreview('./assets/gallery/foto9.jpg')">
      <img src="./assets/gallery/foto9.jpg" alt="Foto 9" class="w-full h-40 object-cover object-center">
      <div class="p-3 text-sm text-center">Foto 9</div>
    </div>
  </div>

  <!-- Preview Overlay -->
  <div id="previewOverlay" class="overlay-hidden fixed inset-0 bg-black bg-opacity-60 items-center justify-center z-50">
    <div class="glass max-w-3xl w-[90%] p-4 relative">
      <!-- Tombol X -->
      <button onclick="closePreview()" class="absolute top-2 right-2 text-white bg-red-600 px-3 py-1 rounded">X</button>
      
      <!-- Gambar / Video -->
      <img id="previewImage" src="" alt="Preview" class="w-full max-h-[60vh] object-contain rounded mb-4 hidden">
      <video id="previewVideo" controls class="w-full max-h-[60vh] object-contain rounded mb-4 hidden"></video>
      
      <!-- Tombol aksi -->
      <div class="flex justify-center gap-4">
        <a id="downloadBtn" href="#" download class="bg-green-600 hover:bg-green-500 px-4 py-2 rounded">Download</a>
        <button onclick="sharePhoto()" class="bg-blue-600 hover:bg-blue-500 px-4 py-2 rounded">Share</button>
      </div>
    </div>
  </div>

  <script>
    let currentMedia = "";
    let currentType = "image";

    function openPreview(src, type = "image") {
      currentMedia = src;
      currentType = type;

      const img = document.getElementById("previewImage");
      const video = document.getElementById("previewVideo");

      if (type === "video") {
        img.classList.add("hidden");
        video.classList.remove("hidden");
        video.src = src;
      } else {
        video.classList.add("hidden");
        img.classList.remove("hidden");
        img.src = src;
      }

      document.getElementById("downloadBtn").href = src;
      document.getElementById("previewOverlay").classList.remove("overlay-hidden");
      document.getElementById("previewOverlay").classList.add("overlay-active");
    }

    function closePreview() {
      document.getElementById("previewOverlay").classList.remove("overlay-active");
      document.getElementById("previewOverlay").classList.add("overlay-hidden");

      const video = document.getElementById("previewVideo");
      video.pause();
      video.src = "";
    }

    async function sharePhoto() {
      const link = currentMedia.startsWith("http") ? currentMedia : window.location.origin + "/" + currentMedia.replace("./", "");
      if (navigator.share) {
        try {
          await navigator.share({
            title: "Media dari Gallery Ramdan",
            text: "Lihat ini!",
            url: link
          });
        } catch (err) {
          console.log("Share dibatalkan", err);
        }
      } else {
        navigator.clipboard.writeText(link);
        alert("Link disalin: " + link);
      }
    }
  </script>
</body>
</html>

